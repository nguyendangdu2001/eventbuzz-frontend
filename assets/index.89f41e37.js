import{ah as e,ai as r,aj as n,a1 as t,r as o,R as i}from"./vendor.18683b1f.js";var a=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function u(e,r){var n=function(e){var r=e.name;if(r&&-1!==r.lastIndexOf(".")&&!e.type){var n=r.split(".").pop().toLowerCase(),t=a.get(n);t&&Object.defineProperty(e,"type",{value:t,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var t=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof r?r:"string"==typeof t&&t.length>0?t:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var c=[".DS_Store","Thumbs.db"];function l(e){return(null!==e.target&&e.target.files?p(e.target.files):[]).map((function(e){return u(e)}))}function s(n,t){return e(this,void 0,void 0,(function(){var e;return r(this,(function(r){switch(r.label){case 0:return n.items?(e=p(n.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,e]:[4,Promise.all(e.map(d))]):[3,2];case 1:return[2,f(g(r.sent()))];case 2:return[2,f(p(n.files).map((function(e){return u(e)})))]}}))}))}function f(e){return e.filter((function(e){return-1===c.indexOf(e.name)}))}function p(e){for(var r=[],n=0;n<e.length;n++){var t=e[n];r.push(t)}return r}function d(e){if("function"!=typeof e.webkitGetAsEntry)return v(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?y(r):v(e)}function g(e){return e.reduce((function(e,r){return n(e,Array.isArray(r)?g(r):[r])}),[])}function v(e){var r=e.getAsFile();if(!r)return Promise.reject(e+" is not a File");var n=u(r);return Promise.resolve(n)}function m(n){return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,n.isDirectory?y(n):b(n)]}))}))}function y(n){var t=n.createReader();return new Promise((function(n,o){var i=[];!function a(){var u=this;t.readEntries((function(t){return e(u,void 0,void 0,(function(){var e,u,c;return r(this,(function(r){switch(r.label){case 0:if(t.length)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return e=r.sent(),n(e),[3,4];case 3:return u=r.sent(),o(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(t.map(m)),i.push(c),a(),r.label=6;case 6:return[2]}}))}))}),(function(e){o(e)}))}()}))}function b(n){return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,new Promise((function(e,r){n.file((function(r){var t=u(r,n.fullPath);e(t)}),(function(e){r(e)}))}))]}))}))}function h(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],t=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(t=(a=u.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(c){o=!0,i=c}finally{try{t||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return D(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var O=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var r=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(r)}},x=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},F=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},w={code:"too-many-files",message:"Too many files"};function A(e,r){var n="application/x-moz-file"===e.type||function(e,r){if(e&&r){var n=Array.isArray(r)?r:r.split(","),t=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some((function(e){var r=e.trim().toLowerCase();return"."===r.charAt(0)?t.toLowerCase().endsWith(r):r.endsWith("/*")?i===r.replace(/\/.*$/,""):o===r}))}return!0}(e,r);return[n,n?null:O(r)]}function j(e,r,n){if(E(e.size))if(E(r)&&E(n)){if(e.size>n)return[!1,x(n)];if(e.size<r)return[!1,F(r)]}else{if(E(r)&&e.size<r)return[!1,F(r)];if(E(n)&&e.size>n)return[!1,x(n)]}return[!0,null]}function E(e){return null!=e}function S(e){var r=e.files,n=e.accept,t=e.minSize,o=e.maxSize,i=e.multiple,a=e.maxFiles;return!(!i&&r.length>1||i&&a>=1&&r.length>a)&&r.every((function(e){var r=h(A(e,n),1)[0],i=h(j(e,t,o),1)[0];return r&&i}))}function C(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function k(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function P(e){e.preventDefault()}function z(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function R(e){return-1!==e.indexOf("Edge/")}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return z(e)||R(e)}function I(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];return r.some((function(r){return!C(e)&&r&&r.apply(void 0,[e].concat(t)),C(e)}))}}function L(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],t=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(t=(a=u.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(c){o=!0,i=c}finally{try{t||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,r)||B(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,r){if(e){if("string"==typeof e)return M(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,r):void 0}}function M(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function $(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function q(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?$(Object(n),!0).forEach((function(r){G(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function G(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function N(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var U=o.exports.forwardRef((function(e,r){var n=e.children,t=_(N(e,["children"])),a=t.open,u=N(t,["open"]);return o.exports.useImperativeHandle(r,(function(){return{open:a}}),[a]),i.createElement(o.exports.Fragment,null,n(q(q({},u),{},{open:a})))}));U.displayName="Dropzone";var W={disabled:!1,getFilesFromEvent:function(n){return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,(r=n,r.dataTransfer&&n.dataTransfer?s(n.dataTransfer,n.type):l(n))];var r}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};U.defaultProps=W,U.propTypes={children:t.func,accept:t.oneOfType([t.string,t.arrayOf(t.string)]),multiple:t.bool,preventDropOnDocument:t.bool,noClick:t.bool,noKeyboard:t.bool,noDrag:t.bool,noDragEventsBubbling:t.bool,minSize:t.number,maxSize:t.number,maxFiles:t.number,disabled:t.bool,getFilesFromEvent:t.func,onFileDialogCancel:t.func,onDragEnter:t.func,onDragLeave:t.func,onDragOver:t.func,onDrop:t.func,onDropAccepted:t.func,onDropRejected:t.func,validator:t.func};var H={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=q(q({},W),e),n=r.accept,t=r.disabled,i=r.getFilesFromEvent,a=r.maxSize,u=r.minSize,c=r.multiple,l=r.maxFiles,s=r.onDragEnter,f=r.onDragLeave,p=r.onDragOver,d=r.onDrop,g=r.onDropAccepted,v=r.onDropRejected,m=r.onFileDialogCancel,y=r.preventDropOnDocument,b=r.noClick,h=r.noKeyboard,D=r.noDrag,O=r.noDragEventsBubbling,x=r.validator,F=o.exports.useRef(null),E=o.exports.useRef(null),z=o.exports.useReducer(J,H),R=K(z,2),B=R[0],M=R[1],$=B.isFocused,U=B.isFileDialogActive,_=B.draggedFiles,Q=o.exports.useCallback((function(){E.current&&(M({type:"openDialog"}),E.current.value=null,E.current.click())}),[M]),V=function(){U&&setTimeout((function(){E.current&&(E.current.files.length||(M({type:"closeDialog"}),"function"==typeof m&&m()))}),300)};o.exports.useEffect((function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}}),[E,U,m]);var X=o.exports.useCallback((function(e){F.current&&F.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),Q()))}),[F,E]),Y=o.exports.useCallback((function(){M({type:"focus"})}),[]),Z=o.exports.useCallback((function(){M({type:"blur"})}),[]),ee=o.exports.useCallback((function(){b||(T()?setTimeout(Q,0):Q())}),[E,b]),re=o.exports.useRef([]),ne=function(e){F.current&&F.current.contains(e.target)||(e.preventDefault(),re.current=[])};o.exports.useEffect((function(){return y&&(document.addEventListener("dragover",P,!1),document.addEventListener("drop",ne,!1)),function(){y&&(document.removeEventListener("dragover",P),document.removeEventListener("drop",ne))}}),[F,y]);var te=o.exports.useCallback((function(e){e.preventDefault(),e.persist(),se(e),re.current=[].concat(L(re.current),[e.target]),k(e)&&Promise.resolve(i(e)).then((function(r){C(e)&&!O||(M({draggedFiles:r,isDragActive:!0,type:"setDraggedFiles"}),s&&s(e))}))}),[i,s,O]),oe=o.exports.useCallback((function(e){e.preventDefault(),e.persist(),se(e);var r=k(e);if(r&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return r&&p&&p(e),!1}),[p,O]),ie=o.exports.useCallback((function(e){e.preventDefault(),e.persist(),se(e);var r=re.current.filter((function(e){return F.current&&F.current.contains(e)})),n=r.indexOf(e.target);-1!==n&&r.splice(n,1),re.current=r,r.length>0||(M({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),k(e)&&f&&f(e))}),[F,f,O]),ae=o.exports.useCallback((function(e){e.preventDefault(),e.persist(),se(e),re.current=[],k(e)&&Promise.resolve(i(e)).then((function(r){if(!C(e)||O){var t=[],o=[];r.forEach((function(e){var r=K(A(e,n),2),i=r[0],c=r[1],l=K(j(e,u,a),2),s=l[0],f=l[1],p=x?x(e):null;if(i&&s&&!p)t.push(e);else{var d=[c,f];p&&(d=d.concat(p)),o.push({file:e,errors:d.filter((function(e){return e}))})}})),(!c&&t.length>1||c&&l>=1&&t.length>l)&&(t.forEach((function(e){o.push({file:e,errors:[w]})})),t.splice(0)),M({acceptedFiles:t,fileRejections:o,type:"setFiles"}),d&&d(t,o,e),o.length>0&&v&&v(o,e),t.length>0&&g&&g(t,e)}})),M({type:"reset"})}),[c,n,u,a,l,i,d,g,v,O]),ue=function(e){return t?null:e},ce=function(e){return h?null:ue(e)},le=function(e){return D?null:ue(e)},se=function(e){O&&e.stopPropagation()},fe=o.exports.useMemo((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.refKey,n=void 0===r?"ref":r,o=e.onKeyDown,i=e.onFocus,a=e.onBlur,u=e.onClick,c=e.onDragEnter,l=e.onDragOver,s=e.onDragLeave,f=e.onDrop,p=N(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return q(q(G({onKeyDown:ce(I(o,X)),onFocus:ce(I(i,Y)),onBlur:ce(I(a,Z)),onClick:ue(I(u,ee)),onDragEnter:le(I(c,te)),onDragOver:le(I(l,oe)),onDragLeave:le(I(s,ie)),onDrop:le(I(f,ae))},n,F),t||h?{}:{tabIndex:0}),p)}}),[F,X,Y,Z,ee,te,oe,ie,ae,h,D,t]),pe=o.exports.useCallback((function(e){e.stopPropagation()}),[]),de=o.exports.useMemo((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.refKey,t=void 0===r?"ref":r,o=e.onChange,i=e.onClick,a=N(e,["refKey","onChange","onClick"]),u=G({accept:n,multiple:c,type:"file",style:{display:"none"},onChange:ue(I(o,ae)),onClick:ue(I(i,pe)),autoComplete:"off",tabIndex:-1},t,E);return q(q({},u),a)}}),[E,n,c,ae,t]),ge=_.length,ve=ge>0&&S({files:_,accept:n,minSize:u,maxSize:a,multiple:c,maxFiles:l}),me=ge>0&&!ve;return q(q({},B),{},{isDragAccept:ve,isDragReject:me,isFocused:$&&!t,getRootProps:fe,getInputProps:de,rootRef:F,inputRef:E,open:ue(Q)})}function J(e,r){switch(r.type){case"focus":return q(q({},e),{},{isFocused:!0});case"blur":return q(q({},e),{},{isFocused:!1});case"openDialog":return q(q({},e),{},{isFileDialogActive:!0});case"closeDialog":return q(q({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=r.isDragActive,t=r.draggedFiles;return q(q({},e),{},{draggedFiles:t,isDragActive:n});case"setFiles":return q(q({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return q(q({},e),{},{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}export{_ as u};
