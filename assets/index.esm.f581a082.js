import{r as e}from"./vendor.18683b1f.js";var r=e=>"checkbox"===e.type,t=e=>e instanceof Date,s=e=>null==e;const n=e=>"object"==typeof e;var a=e=>!s(e)&&!Array.isArray(e)&&n(e)&&!t(e),u=e=>e.substring(0,e.search(/.\d/))||e,c=(e,r)=>[...e].some((e=>u(r)===e)),i=e=>e.filter(Boolean),o=e=>void 0===e,l=(e,r,t)=>{if(a(e)&&r){const n=i(r.split(/[,[\].]+?/)).reduce(((e,r)=>s(e)?e:e[r]),e);return o(n)||n===e?o(e[r])?t:e[r]:n}};const f="blur",d="change",b="onBlur",y="onChange",m="onSubmit",g="onTouched",h="all",v="max",p="min",x="maxLength",O="minLength",w="pattern",j="required",V="validate";var k=(e,r)=>{const t=Object.assign({},e);return delete t[r],t};const _=e.exports.createContext(null);_.displayName="RHFContext";const A=()=>e.exports.useContext(_);var C=(e,r,t,s,n=!0)=>e?new Proxy(r,{get:(e,r)=>{if(r in e)return t.current[r]!==h&&(t.current[r]=!n||h),s&&(s.current[r]=!0),e[r]}}):r,S=e=>a(e)&&!Object.keys(e).length,F=(e,r,t)=>{const s=k(e,"name");return S(s)||Object.keys(s).length>=Object.keys(r).length||Object.keys(s).find((e=>r[e]===(!t||h)))},D=e=>Array.isArray(e)?e:[e],R="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;const E=R?"Proxy"in window:"undefined"!=typeof Proxy;function T({name:t,rules:s,defaultValue:n,control:u,shouldUnregister:i}){const b=A(),{defaultValuesRef:y,register:m,fieldsRef:g,unregister:h,namesRef:v,subjectsRef:p,shouldUnmount:x,inFieldArrayActionRef:O}=u||b.control,w=l(g.current,t),[j,V]=e.exports.useState(w&&w._f&&!o(w._f.value)?w._f.value:o(l(y.current,t))?n:l(y.current,t)),{onChange:k,onBlur:_,ref:S}=m(t,Object.assign(Object.assign({},s),{value:j})),R=function(r){const{control:t,name:s}=r||{},n=A(),{formStateRef:a,subjectsRef:u,readFormStateRef:c}=t||n.control,i=e.exports.useRef(s);i.current=s;const[o,l]=e.exports.useState(a.current),f=e.exports.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1});return e.exports.useEffect((()=>{const e=u.current.state.subscribe({next:e=>(!i.current||!e.name||D(i.current).includes(e.name))&&F(e,f.current)&&l(Object.assign(Object.assign({},a.current),e))});return()=>e.unsubscribe()}),[]),C(E,o,c,f,!1)}({control:u||b.control,name:t});function T(e,r){const t=l(g.current,e);t&&t._f&&(t._f.mount=r)}return e.exports.useEffect((()=>{const e=p.current.control.subscribe({next:e=>(!e.name||t===e.name)&&V(l(e.values,t))});return T(t,!0),()=>{e.unsubscribe();const r=x||i;(c(v.current.array,t)?r&&!O.current:r)?h(t):T(t,!1)}}),[t]),{field:{onChange:e=>{const s=(e=>a(e)&&e.target?r(e.target)?e.target.checked:e.target.value:e)(e);V(s),k({target:{value:s,name:t},type:d})},onBlur:()=>{_({target:{name:t},type:f})},name:t,value:j,ref:e=>e&&S({focus:()=>e.focus&&e.focus(),setCustomValidity:r=>e.setCustomValidity(r),reportValidity:()=>e.reportValidity()})},formState:R,fieldState:{invalid:!!l(R.errors,t),isDirty:!!l(R.dirtyFields,t),isTouched:!!l(R.touchedFields,t),error:l(R.errors,t)}}}const B=e=>e.render(T(e));var N=(e,r,t,s,n)=>r?Object.assign(Object.assign({},t[e]),{types:Object.assign(Object.assign({},t[e]&&t[e].types?t[e].types:{}),{[s]:n||!0})}):{},M=e=>/^\w*$/.test(e),L=e=>i(e.replace(/["|']|\]/g,"").split(/\.|\[/));function U(e,r,t){let s=-1;const n=M(r)?[r]:L(r),u=n.length,c=u-1;for(;++s<u;){const r=n[s];let u=t;if(s!==c){const t=e[r];u=a(t)||Array.isArray(t)?t:isNaN(+n[s+1])?{}:[]}e[r]=u,e=e[r]}return e}const I=(e,r,t)=>{for(const s of t||Object.keys(e)){const t=l(e,s);if(t){const e=t._f,s=k(t,"_f");if(e&&r(e.name)){if(e.ref.focus&&o(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else a(s)&&I(s,r)}}},P=(e,r={})=>{for(const t in e.current){const n=e.current[t];if(n&&!s(r)){const e=n._f,s=k(n,"_f");U(r,t,e&&e.ref?e.ref.disabled||e.refs&&e.refs.every((e=>e.disabled))?void 0:e.value:Array.isArray(n)?[]:{}),s&&P({current:s},r[t])}}return r};var q=e=>s(e)||!n(e);function H(e,r){if(q(e)||q(r)||t(e)||t(r))return e===r;const s=Object.keys(e),n=Object.keys(r);if(s.length!==n.length)return!1;for(const t of s){const s=e[t];if(!n.includes(t))return!1;if("ref"!==t){const e=r[t];if((a(s)||Array.isArray(s))&&(a(e)||Array.isArray(e))?!H(s,e):s!==e)return!1}}return!0}function $(e,r){if(q(e)||q(r))return r;for(const s in r){const n=e[s],u=r[s];try{e[s]=a(n)&&a(u)||Array.isArray(n)&&Array.isArray(u)?$(n,u):u}catch(t){}}return e}function z(e,r,t,n,a){let u=-1;for(;++u<e.length;){for(const n in e[u])Array.isArray(e[u][n])?(!t[u]&&(t[u]={}),t[u][n]=[],z(e[u][n],l(r[u]||{},n,[]),t[u][n],t[u],n)):!s(r)&&H(l(r[u]||{},n),e[u][n])?U(t[u]||{},n):t[u]=Object.assign(Object.assign({},t[u]),{[n]:!0});n&&!t.length&&delete n[a]}return t}var G=(e,r,t)=>$(z(e,r,t.slice(0,e.length)),z(r,e,t.slice(0,e.length))),J=e=>"boolean"==typeof e;function K(e,r){const t=M(r)?[r]:L(r),s=1==t.length?e:function(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=o(e)?s++:e[r[s++]];return e}(e,t),n=t[t.length-1];let u;s&&delete s[n];for(let c=0;c<t.slice(0,-1).length;c++){let r,s=-1;const n=t.slice(0,-(c+1)),i=n.length-1;for(c>0&&(u=e);++s<n.length;){const t=n[s];r=r?r[t]:e[t],i===s&&(a(r)&&S(r)||Array.isArray(r)&&!r.filter((e=>a(e)&&!S(e)||J(e))).length)&&(u?delete u[t]:delete e[t]),u=r}}return e}var Q=e=>"file"===e.type,W=e=>"select-multiple"===e.type,X=e=>"radio"===e.type;const Y={value:!1,isValid:!1},Z={value:!0,isValid:!0};var ee=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!o(e[0].attributes.value)?o(e[0].value)||""===e[0].value?Z:{value:e[0].value,isValid:!0}:Z:Y}return Y},re=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>o(e)?e:r?""===e?NaN:+e:t?new Date(e):s?s(e):e;const te={isValid:!1,value:null};var se=e=>Array.isArray(e)?e.reduce(((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e),te):te;function ne(e){if(e&&e._f){const s=e._f.ref;if(s.disabled)return;return Q(s)?s.files:X(s)?se(e._f.refs).value:W(s)?(t=s.options,[...t].filter((({selected:e})=>e)).map((({value:e})=>e))):r(s)?ee(e._f.refs).value:re(o(s.value)?e._f.ref.value:s.value,e._f)}var t}var ae=(e,r,t,s)=>{const n={};for(const a of e){const e=l(r,a);e&&U(n,a,e._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:s}},ue=e=>"function"==typeof e,ce=e=>"string"==typeof e,ie=r=>ce(r)||e.exports.isValidElement(r),oe=e=>e instanceof RegExp;function le(e,r,t="validate"){if(ie(e)||Array.isArray(e)&&e.every(ie)||J(e)&&!e)return{type:t,message:ie(e)?e:"",ref:r}}var fe=e=>a(e)&&!oe(e)?e:{value:e,message:""},de=async({_f:{ref:e,refs:t,required:n,maxLength:u,minLength:c,min:i,max:o,pattern:l,validate:f,name:d,value:b,valueAsNumber:y,mount:m}},g,h)=>{if(!m)return{};const k=t?t[0]:e,_=e=>{h&&k.reportValidity&&(k.setCustomValidity(J(e)?"":e||" "),k.reportValidity())},A={},C=X(e),F=r(e),D=C||F,R=(y||Q(e))&&!e.value||""===b||Array.isArray(b)&&!b.length,E=N.bind(null,d,g,A),T=(r,t,s,n=x,a=O)=>{const u=r?t:s;A[d]=Object.assign({type:r?n:a,message:u,ref:e},E(r?n:a,u))};if(n&&(!D&&(R||s(b))||J(b)&&!b||F&&!ee(t).isValid||C&&!se(t).isValid)){const{value:e,message:r}=ie(n)?{value:!!n,message:n}:fe(n);if(e&&(A[d]=Object.assign({type:j,message:r,ref:k},E(j,r)),!g))return _(r),A}if(!(R||s(i)&&s(o))){let r,t;const n=fe(o),a=fe(i);if(isNaN(b)){const s=e.valueAsDate||new Date(b);ce(n.value)&&(r=s>new Date(n.value)),ce(a.value)&&(t=s<new Date(a.value))}else{const u=e.valueAsNumber||parseFloat(b);s(n.value)||(r=u>n.value),s(a.value)||(t=u<a.value)}if((r||t)&&(T(!!r,n.message,a.message,v,p),!g))return _(A[d].message),A}if((u||c)&&!R&&ce(b)){const e=fe(u),r=fe(c),t=!s(e.value)&&b.length>e.value,n=!s(r.value)&&b.length<r.value;if((t||n)&&(T(t,e.message,r.message),!g))return _(A[d].message),A}if(l&&!R&&ce(b)){const{value:r,message:t}=fe(l);if(oe(r)&&!b.match(r)&&(A[d]=Object.assign({type:w,message:t,ref:e},E(w,t)),!g))return _(t),A}if(f)if(ue(f)){const e=le(await f(b),k);if(e&&(A[d]=Object.assign(Object.assign({},e),E(V,e.message)),!g))return _(e.message),A}else if(a(f)){let e={};for(const r in f){if(!S(e)&&!g)break;const t=le(await f[r](b),k,r);t&&(e=Object.assign(Object.assign({},t),E(r,t.message)),_(t.message),g&&(A[d]=e))}if(!S(e)&&(A[d]=Object.assign({ref:k},e),!g))return A}return _(!0),A},be=e=>({isOnSubmit:!e||e===m,isOnBlur:e===b,isOnChange:e===y,isOnAll:e===h,isOnTouch:e===g}),ye=e=>e instanceof HTMLElement;class me{constructor(){this.tearDowns=[]}add(e){this.tearDowns.push(e)}unsubscribe(){for(const e of this.tearDowns)e();this.tearDowns=[]}}class ge{constructor(e,r){this.observer=e,this.closed=!1,r.add((()=>this.closed=!0))}next(e){this.closed||this.observer.next(e)}}class he{constructor(){this.observers=[]}next(e){for(const r of this.observers)r.next(e)}subscribe(e){const r=new me,t=new ge(e,r);return this.observers.push(t),r}unsubscribe(){this.observers=[]}}const ve="undefined"==typeof window;function pe({mode:n=m,reValidateMode:d=y,resolver:b,context:g,defaultValues:v={},shouldFocusError:p=!0,delayError:x,shouldUseNativeValidation:O,shouldUnregister:w,criteriaMode:j}={}){const[V,_]=e.exports.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),A=e.exports.useRef({isDirty:!E,dirtyFields:!E,touchedFields:!E,isValidating:!E,isValid:!E,errors:!E}),T=e.exports.useRef(b),B=e.exports.useRef(V),N=e.exports.useRef({}),M=e.exports.useRef(v),L=e.exports.useRef({}),$=e.exports.useRef(g),z=e.exports.useRef(!1),J=e.exports.useRef(!1),Y=e.exports.useRef(),Z=e.exports.useRef({watch:new he,control:new he,array:new he,state:new he}),ee=e.exports.useRef({mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1}),te=be(n),se=j===h;T.current=b,$.current=g;const ie=e=>ee.current.watchAll||ee.current.watch.has(e)||ee.current.watch.has((e.match(/\w+/)||[])[0]),oe=(e,r)=>{U(B.current.errors,e,r),Z.current.state.next({errors:B.current.errors})},le=e.exports.useCallback((async(e,r,t,s,n,a)=>{const u=l(B.current.errors,r),c=!!A.current.isValid&&(b?n:(async()=>{const e=await Oe(N.current,!0);e!==B.current.isValid&&(B.current.isValid=e,Z.current.state.next({isValid:e}))})());if(x&&t?(Y.current=Y.current||((e,r)=>{let t=0;return(...s)=>{clearTimeout(t),t=setTimeout((()=>e(...s)),r)}})(oe,x),Y.current(r,t)):t?U(B.current.errors,r,t):K(B.current.errors,r),(a||(t?!H(u,t):u)||!S(s)||B.current.isValid!==c)&&!e){const e=Object.assign(Object.assign(Object.assign({},s),b?{isValid:!!c}:{}),{errors:B.current.errors,name:r});B.current=Object.assign(Object.assign({},B.current),e),Z.current.state.next(a?{name:r}:e)}Z.current.state.next({isValidating:!1})}),[]),fe=e.exports.useCallback(((e,t,n={},a,u)=>{u&&De(e);const c=l(N.current,e);if(c){const u=c._f;if(u){const c=R&&ye(u.ref)&&s(t)?"":t;if(u.value=re(t,u),X(u.ref)?(u.refs||[]).forEach((e=>e.checked=e.value===c)):Q(u.ref)&&!ce(c)?u.ref.files=c:W(u.ref)?[...u.ref.options].forEach((e=>e.selected=c.includes(e.value))):r(u.ref)&&u.refs?u.refs.length>1?u.refs.forEach((e=>e.checked=Array.isArray(c)?!!c.find((r=>r===e.value)):c===e.value)):u.refs[0].checked=!!c:u.ref.value=c,a){const r=P(N);U(r,e,t),Z.current.control.next({values:Object.assign(Object.assign({},M.current),r),name:e})}(n.shouldDirty||n.shouldTouch)&&ge(e,c,n.shouldTouch),n.shouldValidate&&we(e)}else c._f={ref:{name:e,value:t},value:t}}}),[]),me=e.exports.useCallback(((e,r)=>{const t=P(N);return e&&r&&U(t,e,r),!H(t,M.current)}),[]),ge=e.exports.useCallback(((e,r,t,s=!0)=>{const n={name:e};let a=!1;if(A.current.isDirty){const e=B.current.isDirty;B.current.isDirty=me(),n.isDirty=B.current.isDirty,a=e!==n.isDirty}if(A.current.dirtyFields&&!t){const t=l(B.current.dirtyFields,e);!H(l(M.current,e),r)?U(B.current.dirtyFields,e,!0):K(B.current.dirtyFields,e),n.dirtyFields=B.current.dirtyFields,a=a||t!==l(B.current.dirtyFields,e)}const u=l(B.current.touchedFields,e);return t&&!u&&(U(B.current.touchedFields,e,t),n.touchedFields=B.current.touchedFields,a=a||A.current.touchedFields&&u!==t),a&&s&&Z.current.state.next(n),a?n:{}}),[]),pe=e.exports.useCallback((async(e,r)=>{const t=(await de(l(N.current,e),se,O))[e];return await le(r,e,t),o(t)}),[se]),xe=e.exports.useCallback((async e=>{const{errors:r}=await T.current(P(N),$.current,ae(ee.current.mount,N.current,j,O));if(e)for(const t of e){const e=l(r,t);e?U(B.current.errors,t,e):K(B.current.errors,t)}else B.current.errors=r;return r}),[j,O]),Oe=async(e,r,t={valid:!0})=>{for(const s in e){const n=e[s];if(n){const e=n._f,s=k(n,"_f");if(e){const s=await de(n,se,O);if(r){if(s[e.name]){t.valid=!1;break}}else s[e.name]?U(B.current.errors,e.name,s[e.name]):K(B.current.errors,e.name)}s&&await Oe(s,r,t)}}return t.valid},we=e.exports.useCallback((async(e,r={})=>{const t=D(e);let s;if(Z.current.state.next({isValidating:!0}),b){const r=await xe(o(e)?e:t);s=e?t.every((e=>!l(r,e))):S(r)}else e?s=(await Promise.all(t.filter((e=>l(N.current,e,{})._f)).map((async e=>await pe(e,!0))))).every(Boolean):(await Oe(N.current),s=S(B.current.errors));return Z.current.state.next(Object.assign(Object.assign({},ce(e)?{name:e}:{}),{errors:B.current.errors,isValidating:!1})),r.shouldFocus&&!s&&I(N.current,(e=>l(B.current.errors,e)),e?t:ee.current.mount),A.current.isValid&&Ve(),s}),[xe,pe]),je=(e,r,t)=>{const s=l(N.current,e);if(s){const n=o(s._f.value),a=n?o(l(L.current,e))?l(M.current,e):l(L.current,e):s._f.value;o(a)?n&&(s._f.value=ne(s)):r&&r.defaultChecked?s._f.value=ne(s):t?s._f.value=a:fe(e,a)}J.current&&A.current.isValid&&Ve()},Ve=e.exports.useCallback((async(e={})=>{const r=b?S((await T.current(Object.assign(Object.assign({},P(N)),e),$.current,ae(ee.current.mount,N.current,j,O))).errors):await Oe(N.current,!0);r!==B.current.isValid&&(B.current.isValid=r,Z.current.state.next({isValid:r}))}),[j,O]),ke=e.exports.useCallback(((e,r,s)=>Object.entries(r).forEach((([r,n])=>{const a=`${e}.${r}`,u=l(N.current,a);!ee.current.array.has(e)&&q(n)&&(!u||u._f)||t(n)?fe(a,n,s,!0,!u):ke(a,n,s)}))),[we]),_e=e.exports.useCallback((async({type:e,target:t,target:{value:s,name:n,type:a}})=>{const c=l(N.current,n);if(c){let y=a?ne(c):void 0;y=o(y)?s:y;const m=e===f,{isOnBlur:g,isOnChange:h}=be(d),v=(i=c._f,!(c._f.mount&&i&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate)||b||l(B.current.errors,n))||(({isOnBlur:e,isOnChange:r,isOnTouch:t,isTouched:s,isReValidateOnBlur:n,isReValidateOnChange:a,isBlurEvent:u,isSubmitted:c,isOnAll:i})=>!i&&(!c&&t?!(s||u):(c?n:e)?!u:!(c?a:r)||u))(Object.assign({isBlurEvent:m,isTouched:!!l(B.current.touchedFields,n),isSubmitted:B.current.isSubmitted,isReValidateOnBlur:g,isReValidateOnChange:h},te))),p=!m&&ie(n);o(y)||(c._f.value=y);const x=ge(n,c._f.value,m,!1),w=!S(x)||p;if(v)return!m&&Z.current.watch.next({name:n,type:e,values:Ae()}),w&&Z.current.state.next(p?{name:n}:Object.assign(Object.assign({},x),{name:n}));Z.current.state.next({isValidating:!0}),(async(e,t,s,n)=>{let a,c,i=e.name;const o=l(N.current,i);if(b){const{errors:t}=await T.current(P(N),$.current,ae([i],N.current,j,O));if(a=l(t,i),r(e)&&!a){const e=u(i),r=l(t,e,{});r.type&&r.message&&(a=r),(r||l(B.current.errors,e))&&(i=e)}c=S(t)}else a=(await de(o,se,O))[i];!n&&Z.current.watch.next({name:i,type:e.type,values:Ae()}),le(!1,i,a,t,c,s)})(t,x,p,m)}var i}),[]),Ae=e=>{const r=Object.assign(Object.assign({},M.current),P(N));return o(e)?r:ce(e)?l(r,e):e.map((e=>l(r,e)))},Ce=e.exports.useCallback(((e,r,t,s)=>{const n=Array.isArray(e),a=s||J.current?Object.assign(Object.assign({},M.current),s||P(N)):o(r)?M.current:n?r:{[e]:r};if(o(e))return t&&(ee.current.watchAll=!0),a;const u=[];for(const c of D(e))t&&ee.current.watch.add(c),u.push(l(a,c));return n?u:u[0]}),[]),Se=(e,r={})=>{for(const t of e?D(e):ee.current.mount)ee.current.mount.delete(t),ee.current.array.delete(t),l(N.current,t)&&(!r.keepError&&K(B.current.errors,t),!r.keepValue&&K(N.current,t),!r.keepDirty&&K(B.current.dirtyFields,t),!r.keepTouched&&K(B.current.touchedFields,t),!w&&!r.keepDefaultValue&&K(M.current,t));Z.current.watch.next({values:Ae()}),Z.current.state.next(Object.assign(Object.assign({},B.current),r.keepDirty?{isDirty:me()}:{})),!r.keepIsValid&&Ve()},Fe=(e,t,s)=>{De(e,s);let n=l(N.current,e);const a=(e=>X(e)||r(e))(t);t===n._f.ref||a&&i(n._f.refs||[]).find((e=>e===t))||(n={_f:a?Object.assign(Object.assign({},n._f),{refs:[...i(n._f.refs||[]).filter((e=>ye(e)&&document.contains(e))),t],ref:{type:t.type,name:e}}):Object.assign(Object.assign({},n._f),{ref:t})},U(N.current,e,n),je(e,t))},De=e.exports.useCallback(((e,r={})=>{const t=l(N.current,e);return U(N.current,e,{_f:Object.assign(Object.assign(Object.assign({},t&&t._f?t._f:{ref:{name:e}}),{name:e,mount:!0}),r)}),ee.current.mount.add(e),!t&&je(e,void 0,!0),ve?{name:e}:{name:e,onChange:_e,onBlur:_e,ref:t=>{if(t)Fe(e,t,r);else{const t=l(N.current,e,{}),s=w||r.shouldUnregister;t._f&&(t._f.mount=!1,o(t._f.value)&&(t._f.value=t._f.ref.value)),s&&(!c(ee.current.array,e)||!z.current)&&ee.current.unMount.add(e)}}}}),[]),Re=e.exports.useCallback(((e,r)=>async t=>{t&&(t.preventDefault&&t.preventDefault(),t.persist&&t.persist());let s=!0,n=P(N);Z.current.state.next({isSubmitting:!0});try{if(b){const{errors:e,values:r}=await T.current(n,$.current,ae(ee.current.mount,N.current,j,O));B.current.errors=e,n=r}else await Oe(N.current);S(B.current.errors)&&Object.keys(B.current.errors).every((e=>l(n,e)))?(Z.current.state.next({errors:{},isSubmitting:!0}),await e(n,t)):(r&&await r(B.current.errors,t),p&&I(N.current,(e=>l(B.current.errors,e)),ee.current.mount))}catch(a){throw s=!1,a}finally{B.current.isSubmitted=!0,Z.current.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:S(B.current.errors)&&s,submitCount:B.current.submitCount+1,errors:B.current.errors})}}),[p,se,j,O]),Ee=(e,r="")=>{for(const t in e){const s=e[t],n=r+(r?".":"")+t,u=l(N.current,n);u&&u._f||(a(s)||Array.isArray(s)?Ee(s,n):u||De(n,{value:s}))}};return e.exports.useEffect((()=>{const e=Z.current.state.subscribe({next(e){F(e,A.current,!0)&&(B.current=Object.assign(Object.assign({},B.current),e),_(B.current))}}),r=Z.current.array.subscribe({next(e){if(e.values&&e.name&&A.current.isValid){const r=P(N);U(r,e.name,e.values),Ve(r)}}});return()=>{e.unsubscribe(),r.unsubscribe()}}),[]),e.exports.useEffect((()=>{const e=[],r=e=>!ye(e)||!document.contains(e);J.current||(J.current=!0,A.current.isValid&&Ve(),!w&&Ee(M.current));for(const t of ee.current.unMount){const s=l(N.current,t);s&&(s._f.refs?s._f.refs.every(r):r(s._f.ref))&&e.push(t)}e.length&&Se(e),ee.current.unMount=new Set})),{control:e.exports.useMemo((()=>({register:De,inFieldArrayActionRef:z,getIsDirty:me,subjectsRef:Z,watchInternal:Ce,fieldsRef:N,updateIsValid:Ve,namesRef:ee,readFormStateRef:A,formStateRef:B,defaultValuesRef:M,fieldArrayDefaultValuesRef:L,setValues:ke,unregister:Se,shouldUnmount:w})),[]),formState:C(E,V,A),trigger:we,register:De,handleSubmit:Re,watch:e.exports.useCallback(((e,r)=>ue(e)?Z.current.watch.subscribe({next:t=>e(Ce(void 0,r),t)}):Ce(e,r,!0)),[]),setValue:e.exports.useCallback(((e,r,t={})=>{const n=l(N.current,e),a=ee.current.array.has(e);a&&(Z.current.array.next({values:r,name:e,isReset:!0}),(A.current.isDirty||A.current.dirtyFields)&&t.shouldDirty&&(U(B.current.dirtyFields,e,G(r,l(M.current,e,[]),l(B.current.dirtyFields,e,[]))),Z.current.state.next({name:e,dirtyFields:B.current.dirtyFields,isDirty:me(e,r)})),!r.length&&U(N.current,e,[])&&U(L.current,e,[])),(n&&!n._f||a)&&!s(r)?ke(e,r,a?{}:t):fe(e,r,t,!0,!n),ie(e)&&Z.current.state.next({}),Z.current.watch.next({name:e,values:Ae()})}),[ke]),getValues:e.exports.useCallback(Ae,[]),reset:e.exports.useCallback(((e,r={})=>{const t=e||M.current;if(R&&!r.keepValues)for(const n of ee.current.mount){const e=l(N.current,n);if(e&&e._f){const r=Array.isArray(e._f.refs)?e._f.refs[0]:e._f.ref;try{ye(r)&&r.closest("form").reset();break}catch(s){}}}r.keepDefaultValues||(M.current=Object.assign({},t),L.current=Object.assign({},t)),r.keepValues||(N.current={},Z.current.control.next({values:r.keepDefaultValues?M.current:Object.assign({},t)}),Z.current.watch.next({values:Object.assign({},t)}),Z.current.array.next({values:Object.assign({},t),isReset:!0})),ee.current={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1},Z.current.state.next({submitCount:r.keepSubmitCount?B.current.submitCount:0,isDirty:r.keepDirty?B.current.isDirty:!!r.keepDefaultValues&&H(e,M.current),isSubmitted:!!r.keepIsSubmitted&&B.current.isSubmitted,dirtyFields:r.keepDirty?B.current.dirtyFields:{},touchedFields:r.keepTouched?B.current.touchedFields:{},errors:r.keepErrors?B.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1}),J.current=!!r.keepIsValid}),[]),clearErrors:e.exports.useCallback((e=>{e?D(e).forEach((e=>K(B.current.errors,e))):B.current.errors={},Z.current.state.next({errors:B.current.errors})}),[]),unregister:e.exports.useCallback(Se,[]),setError:e.exports.useCallback(((e,r,t)=>{const s=((l(N.current,e)||{_f:{}})._f||{}).ref;U(B.current.errors,e,Object.assign(Object.assign({},r),{ref:s})),Z.current.state.next({name:e,errors:B.current.errors,isValid:!1}),t&&t.shouldFocus&&s&&s.focus&&s.focus()}),[]),setFocus:e.exports.useCallback((e=>l(N.current,e)._f.ref.focus()),[])}}export{B as C,pe as u};
