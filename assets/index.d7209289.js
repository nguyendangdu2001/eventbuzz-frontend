var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,c=(e,t)=>{for(var a in t||(t={}))l.call(t,a)&&n(e,a,t[a]);if(r)for(var a of r(t))s.call(t,a)&&n(e,a,t[a]);return e},m=(e,r)=>t(e,a(r));import{r as o,R as i,L as d,h as u,ab as p,ac as g,aa as x,g as f,u as v,ad as E,a3 as h,V as y,W as N,ae as b,y as w,af as k,ag as P}from"./vendor.18683b1f.js";import{P as j}from"./index.291695de.js";import{u as C}from"./index.89f41e37.js";import{u as M}from"./index.esm.f581a082.js";import{u as S}from"./index.46c51c71.js";function I(e){return o.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},e),o.exports.createElement("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"}))}var A=new Map,O=new WeakMap,V=0;function B(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(a=e.root)?(O.has(a)||(V+=1,O.set(a,V.toString())),O.get(a)):"0":e[t]);var a})).toString()}function F(e,t,a){if(void 0===a&&(a={}),!e)return function(){};var r=function(e){var t=B(e),a=A.get(t);if(!a){var r,l=new Map,s=new IntersectionObserver((function(t){t.forEach((function(t){var a,s=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=s),null==(a=l.get(t.target))||a.forEach((function(e){e(s,t)}))}))}),e);r=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),a={id:t,observer:s,elements:l},A.set(t,a)}return a}(a),l=r.id,s=r.observer,n=r.elements,c=n.get(e)||[];return n.has(e)||n.set(e,c),c.push(t),s.observe(e),function(){c.splice(c.indexOf(t),1),0===c.length&&(n.delete(e),s.unobserve(e)),0===n.size&&(s.disconnect(),A.delete(l))}}const R=({img:e})=>i.createElement(d,{to:`/detail/${1+Math.ceil(17*Math.random())}`,className:"block p-3 space-y-2 bg-white rounded-2xl dark:bg-gray-900"},i.createElement("div",{className:"flex justify-between"},i.createElement("div",{className:"flex gap-x-3"},i.createElement("div",{className:"p-3 text-center text-indigo-800 bg-blue-200 rounded-2xl dark:bg-blue-300 dark:text-indigo-800"},i.createElement("div",{className:"font-medium"},"May"),i.createElement("div",{className:"text-3xl font-bold"},"08")),i.createElement("div",null,i.createElement("h4",{className:"text-xl font-bold dark:text-gray-50"},"SomeFestival"),i.createElement("p",{className:"mt-auto text-gray-500"},"Thu 10:00"),i.createElement("div",{className:"flex space-x-1 text-gray-600 dark:text-gray-400"},i.createElement(u,{className:"w-5 h-5"}),i.createElement("span",null,"Some where")))),i.createElement("div",null,i.createElement("div",{className:"p-2 text-yellow-500 bg-gray-100 rounded-lg dark:bg-gray-700"},i.createElement(p,{className:"w-5 h-5"})))),i.createElement("div",{className:"relative aspect-w-16 aspect-h-7"},i.createElement("img",{src:e||"https://dummyimage.com/855x374.jpg",alt:"",className:"absolute object-cover w-full h-full rounded-lg"})),i.createElement("div",{className:"flex flex-col gap-y-3"},i.createElement("div",{className:"flex-grow pb-3 text-gray-400 border-b border-gray-200 dark:border-gray-500"},"Rmay not be possble to squeeze mos time in the day without sacrificing sleep. So how do you achieve"),i.createElement("div",{className:"flex justify-between"},i.createElement("div",{className:"flex items-center space-x-1"},i.createElement("div",{className:"flex -space-x-2"},[...Array(4)].map(((e,t)=>i.createElement("img",{key:t,src:`https://i.pravatar.cc/50?u=${t}`,alt:"",className:"w-9 h-9 p-0.5 bg-white rounded-full dark:bg-gray-600"})))),i.createElement("div",{className:"text-sm font-medium dark:text-gray-400"},"+ 3000")),i.createElement("div",{className:"flex space-x-3 dark:text-gray-400"},i.createElement("div",{className:"flex items-center space-x-2 font-medium"},i.createElement("div",{className:"p-2 text-red-600 bg-gray-100 rounded-lg dark:bg-gray-700 dark:text-green-500"},i.createElement(g,{className:"w-5 h-5"})),i.createElement("span",null,"30")),i.createElement("div",{className:"flex items-center space-x-2 font-medium"},i.createElement("div",{className:"p-2 text-blue-600 bg-gray-100 rounded-lg dark:bg-gray-700 dark:text-blue-400"},i.createElement(x,{className:"w-5 h-5"})),i.createElement("span",null,"30")))))),W=f`
  query GetPosts($after: String) {
    posts(first: 10, after: $after) {
      pageInfo {
        endCursor
        hasNextPage
        hasPreviousPage
        startCursor
      }
      edges {
        cursor
        node {
          # comments(first: 1) {
          #   pageInfo {
          #     endCursor
          #     hasNextPage
          #     hasPreviousPage
          #     startCursor
          #   }
          #   edges {
          #     node {
          #       user {
          #         avatar
          #         firstName
          #         lastName
          #       }
          #       text
          #     }
          #   }
          # }
          author {
            avatar
            firstName
            lastName
            id
          }
          id
          likeCount
          content
          media
          createdAt
          commentCount
          isUserLiked
        }
      }
    }
  }
`,$=()=>{var e,t;const[a,r]=o.exports.useState(6),{ref:l,inView:s}=function(e){var t=void 0===e?{}:e,a=t.threshold,r=t.delay,l=t.trackVisibility,s=t.rootMargin,n=t.root,c=t.triggerOnce,m=t.skip,i=t.initialInView,d=o.exports.useRef(),u=o.exports.useState({inView:!!i}),p=u[0],g=u[1],x=o.exports.useCallback((function(e){void 0!==d.current&&(d.current(),d.current=void 0),m||e&&(d.current=F(e,(function(e,t){g({inView:e,entry:t}),t.isIntersecting&&c&&d.current&&(d.current(),d.current=void 0)}),{root:n,rootMargin:s,threshold:a,trackVisibility:l,delay:r}))}),[Array.isArray(a)?a.toString():a,n,s,c,m,l,r]);o.exports.useEffect((function(){d.current||!p.entry||c||m||g({inView:!!i})}));var f=[x,p.inView,p.entry];return f.ref=f[0],f.inView=f[1],f.entry=f[2],f}({rootMargin:"100px",delay:100}),{data:n,fetchMore:d}=v(W,{nextFetchPolicy:"cache-only",returnPartialData:!0}),u=null==(e=null==n?void 0:n.posts)?void 0:e.edges,{hasNextPage:p}=(null==(t=null==n?void 0:n.posts)?void 0:t.pageInfo)||{};return o.exports.useEffect((()=>(!0===s&&r((e=>e+6)),()=>{})),[s]),i.createElement("div",{className:"space-y-4"},null==u?void 0:u.map(((e,t)=>{var a;return i.createElement(j,m(c({},e.node),{key:null==(a=e.node)?void 0:a.id}))})),p?i.createElement("button",{className:"text-white bg-blue-500",onClick:()=>{var e,t;return d({variables:{after:null==(t=null==(e=null==n?void 0:n.posts)?void 0:e.pageInfo)?void 0:t.endCursor}})}},"Fetchmore"):i.createElement("div",{className:"p-5 space-y-2 text-center text-white rounded-lg shadow bg-gradient-to-tr from-blue-300 to-blue-600"},i.createElement(E,{className:"w-20 h-20 mx-auto"}),i.createElement("div",{className:"text-xl font-semibold"},"You have read all posts")),[...Array(a)].map(((e,t)=>i.createElement(o.exports.Fragment,{key:t},i.createElement(R,{img:"https://picsum.photos/500/500.jpg?random="+3*t})))),i.createElement("div",{ref:l}))},H=f`
  mutation ($post: CreatePostInput!) {
    createPost(createPostInput: $post) {
      author {
        avatar
        firstName
        lastName
        id
      }
      authorId
      commentCount
      content
      createdAt
      eventId
      id
      isUserLiked
      likeCount
      media
    }
  }
`,D=()=>{const[e]=h(H,{update(e,{data:{createPost:t}}){e.modify({fields:{posts(a){if(console.log(a),!a)return;const r=e.writeFragment({data:t,fragment:f`
                fragment NewPost on Post {
                  author {
                    avatar
                    firstName
                    lastName
                    id
                  }
                  authorId
                  commentCount
                  content
                  createdAt
                  eventId
                  id
                  isUserLiked
                  likeCount
                  media
                }
              `});return console.log(r),m(c({},a),{edges:[{__typename:"PostEdge",cursor:null==t?void 0:t.id,node:r},...a.edges]})}}})}}),{register:t,handleSubmit:a}=M();o.exports.useState();const[r,l]=o.exports.useState([]),{getRootProps:s,getInputProps:n,open:d,acceptedFiles:u}=C({noClick:!0,noKeyboard:!0,onDrop:async e=>{if(0===(null==e?void 0:e.length))return;console.log(e);const t=null==e?void 0:e.map((async e=>{var t;const a=new FormData;a.append("image",e);const{data:r}=await w.post("https://api.imgbb.com/1/upload?key=164107c247d7ad9d3c93d685037d3f4e",a,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!1});return null==(t=null==r?void 0:r.data)?void 0:t.display_url})),a=await Promise.all(t);console.log(a),l((e=>[...e,...a]))},accept:"image/*"});return i.createElement("form",m(c({},s()),{className:"p-12 space-y-6 bg-white shadow dark:bg-gray-900 rounded-xl",onSubmit:a((t=>{e({variables:{post:m(c({},t),{media:r})}})}))}),i.createElement("div",{className:"text-2xl font-semibold dark:text-gray-50"},"Create post"),i.createElement("div",{className:""},i.createElement("textarea",m(c({type:"text",name:""},t("content",{required:!0})),{className:"flex-auto font-medium placeholder-gray-400 bg-gray-100 border-none rounded-lg dark:placeholder-gray-300",placeholder:"You want to share somthing ?"})),(null==r?void 0:r.length)>0&&i.createElement("div",{className:"flex flex-wrap"},null==r?void 0:r.map(((e,t)=>i.createElement("div",{className:"h-[100px] flex-grow m-1",key:e},i.createElement("img",{src:e,alt:"",className:"object-cover max-h-full min-w-full rounded-lg"})))),i.createElement("div",{className:"flex-grow-[10]"})),i.createElement("input",c({},n()))),i.createElement("div",{className:"flex justify-between"},i.createElement("div",{className:"flex py-2 divide-x divide-gray-300"},i.createElement("div",{className:"flex px-2 py-2 space-x-2 font-medium dark:text-gray-400"},i.createElement(y,{className:"w-6 h-6"}),i.createElement("span",null,"Video")),i.createElement("button",{type:"button",onClick:d,className:"flex px-2 py-2 space-x-2 font-medium dark:text-gray-400"},i.createElement(N,{className:"w-6 h-6"}),i.createElement("span",null,"Photo"))),i.createElement("button",{type:"submit",className:"flex items-center justify-center px-8 py-3 space-x-2 text-base font-bold text-white bg-blue-500 rounded-full"},i.createElement(b,{className:"w-6 h-6 transform rotate-90"}),i.createElement("span",null,"Post"))))},L=()=>{const{data:e}=S(),{user:t}=e||{};return i.createElement("div",{className:"relative flex h-56 overflow-x-auto xl:overflow-visible xl:grid xl:grid-cols-5 gap-x-2"},i.createElement("div",{className:"flex flex-col overflow-hidden bg-gray-200 rounded-lg shadow w-[140px] xl:w-auto flex-shrink-0"},i.createElement("div",{className:"flex-grow overflow-hidden rounded-lg shadow"},i.createElement("img",{src:null==t?void 0:t.avatar,alt:"",className:"object-cover h-full"})),i.createElement("div",{className:"relative px-3 pt-5 pb-2"},i.createElement("div",{className:"absolute top-0 flex items-center justify-center w-10 h-10 p-1 -translate-x-1/2 -translate-y-1/2 bg-gray-200 rounded-full text-gray-50 left-1/2"},i.createElement("div",{className:"flex items-center justify-center w-full h-full bg-blue-500 rounded-full"},i.createElement(k,{className:"w-5 h-5"}))),i.createElement("div",{className:"text-sm font-medium text-center"},"New story"))),["Yamamoto Kun","Desuga Mana","Yepy Kuno","Sanka, Suno"].map(((e,t)=>i.createElement("div",{className:"relative overflow-hidden bg-gray-300 rounded-lg shadow w-[140px] xl:w-auto flex-shrink-0"},i.createElement("img",{src:`https://picsum.photos/130/220.jpg?random=${t}`,alt:"",className:"object-cover w-full h-full"}),i.createElement("div",{className:"absolute inset-0 bg-black/30"}),i.createElement("div",{className:"absolute top-0 left-0 p-1 m-2 bg-indigo-600 rounded-full w-14 h-14"},i.createElement("img",{src:`https://picsum.photos/64/64.jpg?random=${t}`,alt:"",className:"object-cover w-full h-full rounded-full"})),i.createElement("div",{className:"absolute bottom-0 left-0 right-0 p-3 font-semibold text-gray-50"},e)))),i.createElement("div",{className:"absolute right-0 items-center justify-center hidden transition-transform transform translate-x-1/2 -translate-y-1/2 bg-blue-500 rounded-lg shadow-lg w-14 h-14 top-1/2 text-gray-50 hover:scale-110 xl:flex"},i.createElement(I,{className:"w-6 h-6"})))},z=()=>i.createElement("div",{className:"w-full max-h-full px-2 py-2 space-y-4 md:px-6"},i.createElement(L,null),i.createElement(D,null),i.createElement($,null)),T=({name:e,id:t})=>i.createElement("div",{className:"flex items-center gap-x-4"},i.createElement("img",{src:`http://loremflickr.com/80/80/human?random=${t}`,alt:"",className:"w-8 h-8 rounded-full"}),i.createElement("span",{className:"font-semibold dark:text-gray-50"},e||"Name"),i.createElement("div",{className:"ml-auto text-sm font-medium text-gray-400"},"15 min")),Y=()=>i.createElement("div",{className:"space-y-6"},i.createElement("h3",{className:"font-semibold text-gray-500 uppercase dark:text-gray-50"},"Friends"),i.createElement("div",{className:"space-y-5"},i.createElement(T,{name:"Blake",id:"1"}),i.createElement(T,{name:"Harvey",id:"2"}),i.createElement(T,{name:"Glen",id:"3"}))),_=({pic:e,userName:t,location:a,eventName:r,id:l})=>i.createElement("div",{className:"flex p-2 bg-white shadow rounded-xl gap-x-3 dark:bg-gray-900"},i.createElement("img",{src:e||"http://fakeimg.pl/90x90?font=museo",alt:"",className:"object-cover rounded-lg w-[90px] h-[90px]"}),i.createElement("div",{className:"space-y-1"},i.createElement("div",{className:"flex items-center gap-x-2"},i.createElement("img",{src:`http://loremflickr.com/80/80/human?random=3${l}`,alt:"",className:"rounded-full w-[32px] h-[32px]"}),i.createElement("span",{className:"dark:text-gray-400"},t||"Name of inviter")),i.createElement("div",{className:"font-semibold dark:text-gray-50"},r||"Name of Event"),i.createElement("div",{className:"text-sm font-medium dark:text-gray-300"},"Saturday, Sep 14, 2019 at 20:30 PM"),i.createElement("div",{className:"dark:text-gray-400"},a||"Some where"))),q=()=>i.createElement("div",{className:"space-y-6"},i.createElement("h3",{className:"font-semibold text-gray-500 uppercase dark:text-gray-50"},"Invitation"),i.createElement("div",{className:"space-y-5"},i.createElement(_,{id:"1",pic:"https://media-exp1.licdn.com/dms/image/C4D1BAQFAC3o2eHS_vA/company-background_10000/0/1565182814457?e=2159024400&v=beta&t=zWT-JPXEhmCFr0L8eTn0LswSz82VWuuJBkRuPAvLN-Q",userName:"Hunter",location:"West Roxbury, Massachusetts",eventName:"Highwood Terrace Events"}),i.createElement(_,{id:"2",pic:"https://backstage.vn/wp-content/uploads/2020/07/t%E1%BB%95-ch%E1%BB%A9c-s%E1%BB%B1-ki%E1%BB%87n-3.jpg",userName:"Peter",location:"Wauseon, Massachusetts",eventName:"Cliffs of Moher Events"}),i.createElement(_,{id:"3",pic:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8ZWRtJTIwZmVzdGl2YWx8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80",userName:"Conor",location:"Charlotte, North Carolina",eventName:"Lightning Bug Events"}))),Z=()=>i.createElement("div",{className:"min-h-full p-6 bg-gray-100 space-y-7 dark:bg-transparent"},i.createElement(q,null),i.createElement(Y,null)),G=({userName:e,time:t,id:a})=>i.createElement("div",{className:"p-4 space-y-2 bg-white rounded-lg shadow dark:bg-gray-900 dark:text-gray-50"},i.createElement("div",{className:"flex space-x-2"},i.createElement("img",{src:`http://loremflickr.com/80/80/human?random=1${a}`,alt:"",className:"rounded-full w-[50px] h-[50px]"}),i.createElement("div",null,i.createElement("span",{className:"font-semibold"},e||"Someone")," want to be your friend",i.createElement("div",{className:"text-gray-400"},t))),i.createElement("div",{className:"flex items-center space-x-3"},i.createElement("div",{className:"flex-auto p-3 font-semibold text-center text-white bg-green-500 rounded-lg dark:bg-green-800"},"Accept"),i.createElement("div",{className:"flex justify-center flex-auto h-full p-3 rounded-lg ring-2 ring-red-500"},i.createElement(P,{className:"flex w-6 h-6"})))),J=()=>i.createElement("div",{className:"space-y-6"},i.createElement("h3",{className:"font-semibold text-gray-500 uppercase dark:text-gray-50"},"Friend Request"),i.createElement("div",{className:"space-y-3"},[{userName:"Harold",time:"18 hours"},{userName:"Conner",time:"1 day"},{userName:"Peter",time:"2 days"}].map(((e,t)=>i.createElement(G,{key:t,userName:e.userName,time:e.time,id:t}))))),K=({locationName:e,name:t,time:a})=>i.createElement("div",{className:"flex gap-x-2 py-2.5 first:pt-0"},i.createElement("img",{src:"",alt:""}),i.createElement("div",null,i.createElement("div",{className:"flex items-center gap-x-1"},i.createElement(u,{className:"w-4 h-4 dark:text-gray-300"}),i.createElement("span",{className:"text-sm dark:text-gray-300"},e||"Some where")),i.createElement("div",{className:"font-bold line-clamp-1 dark:text-gray-50"},t||"SOme event"),i.createElement("div",{className:"capitalize dark:text-gray-200"},a||"in 2 days"))),U=()=>i.createElement("div",{className:"space-y-6"},i.createElement("h3",{className:"font-semibold text-gray-500 uppercase dark:text-gray-50"},"Recent Event"),i.createElement("div",{className:"divide-y divide-gray-500 "},i.createElement(K,{name:"Origami Crane Wedding Planners",locationName:"Alabama"}),i.createElement(K,{name:"Hyde Park Event Design",locationName:"Massachusetts"}),i.createElement(K,{name:"Polka Dot Party Planners",locationName:"Michigan"}))),Q=()=>i.createElement("div",{className:"min-h-full p-6 bg-gray-100 space-y-7 dark:bg-transparent"},i.createElement(U,null),i.createElement(J,null)),X=()=>i.createElement("div",{className:"grid w-full grid-cols-12"},i.createElement("div",{className:"hidden col-span-3 lg:block"},i.createElement("div",{className:"sticky top-[88px] min-h-[calc(100vh-88px)] max-h-0"},i.createElement("div",{className:"absolute inset-0"},i.createElement(Z,null)))),i.createElement("div",{className:"col-span-12 xl:px-20 md:col-span-8 lg:col-span-6"},i.createElement(z,null)),i.createElement("div",{className:"hidden col-span-3 md:col-span-4 lg:col-span-3 md:block"},i.createElement("div",{className:"sticky top-[88px] min-h-[calc(100vh-88px)] max-h-0"},i.createElement("div",{className:"absolute inset-0"},i.createElement(Q,null)))));export{X as default};
